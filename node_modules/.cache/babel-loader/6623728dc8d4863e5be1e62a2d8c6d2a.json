{"ast":null,"code":"import _slicedToArray from\"C:/projects/React/mywebsite/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useEffect,useRef,useState}from'react';import{useContainerDimensions}from\"../../../../helpers/hooks/useContainerDimensions\";import ServiceButton from\"../ServiceButton\";import ServiceText from\"../ServiceText\";import{styleForServicePhone}from\"./styleForServicePhone\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function getServiceText(handleChoices,ref){var pricesList=handleChoices.providePricesList();return pricesList.map(function(element,index){var style=null;if(index===pricesList.length-1){style=styleForServicePhone();style.borderBottom=\"0px\";}return/*#__PURE__*/_jsx(ServiceText,{ref:ref,additionalStyle:style,id:element.id,title:element.title,price:element.price,handleChoices:handleChoices},element.id);});}function getHeight(height,length){var oneComponentHeight=height/length;var fiveComponentHeight=oneComponentHeight*5+\"px\";return length>1?fiveComponentHeight:\"\";}function ServicePhone(_ref){var handleChoices=_ref.handleChoices;var buttonRef=useRef(null);var servicesRef=useRef(null);var widthButton=useContainerDimensions(buttonRef).width;var heightServices=useContainerDimensions(servicesRef).height;var components=getServiceText(handleChoices,servicesRef);var _useState=useState(false),_useState2=_slicedToArray(_useState,2),isServicesHidden=_useState2[0],hideServices=_useState2[1];useEffect(function(){return hideServices(true);},[]);return/*#__PURE__*/_jsxs(\"div\",{style:{overflow:\"hidden\"},children:[/*#__PURE__*/_jsx(ServiceButton,{onClick:function onClick(){hideServices(!isServicesHidden);console.log(heightServices);},ref:buttonRef}),/*#__PURE__*/_jsx(\"div\",{style:{position:\"absolute\",zIndex:1},children:/*#__PURE__*/_jsx(\"div\",{style:{backgroundColor:\"white\",width:widthButton,borderRadius:\"10px\",overflowX:\"hidden\",overflowY:\"scroll\",height:getHeight(heightServices,handleChoices.providePriceListLength()),border:\"1px solid #EAE9F2\"},hidden:isServicesHidden,children:/*#__PURE__*/_jsx(\"div\",{ref:servicesRef,children:components})})})]});}export default ServicePhone;","map":{"version":3,"sources":["C:/projects/React/mywebsite/src/components/models/prices/service/mobile/ServicePhone.js"],"names":["React","useEffect","useRef","useState","useContainerDimensions","ServiceButton","ServiceText","styleForServicePhone","getServiceText","handleChoices","ref","pricesList","providePricesList","map","element","index","style","length","borderBottom","id","title","price","getHeight","height","oneComponentHeight","fiveComponentHeight","ServicePhone","buttonRef","servicesRef","widthButton","width","heightServices","components","isServicesHidden","hideServices","overflow","console","log","position","zIndex","backgroundColor","borderRadius","overflowX","overflowY","providePriceListLength","border"],"mappings":"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","sourcesContent":["import React, {useEffect, useRef, useState} from 'react';\r\nimport {useContainerDimensions} from \"../../../../helpers/hooks/useContainerDimensions\";\r\nimport ServiceButton from \"../ServiceButton\";\r\nimport ServiceText from \"../ServiceText\";\r\nimport {styleForServicePhone} from \"./styleForServicePhone\";\r\n\r\nfunction getServiceText(handleChoices, ref) {\r\n    const pricesList = handleChoices.providePricesList();\r\n    return pricesList.map((element, index) => {\r\n        let style = null;\r\n        if (index === pricesList.length - 1) {\r\n            style = styleForServicePhone();\r\n            style.borderBottom = \"0px\";\r\n        }\r\n        return (\r\n            <ServiceText ref={ref} additionalStyle={style} key={element.id} id={element.id}\r\n                         title={element.title}\r\n                         price={element.price}\r\n                         handleChoices={handleChoices}/>\r\n        )\r\n    });\r\n}\r\n\r\nfunction getHeight(height, length) {\r\n    const oneComponentHeight = height / length;\r\n    const fiveComponentHeight = oneComponentHeight * 5 + \"px\";\r\n    return length > 1 ? fiveComponentHeight : \"\";\r\n}\r\n\r\nfunction ServicePhone({handleChoices}) {\r\n    const buttonRef = useRef(null);\r\n    const servicesRef = useRef(null);\r\n\r\n    const widthButton = useContainerDimensions(buttonRef).width;\r\n    const heightServices = useContainerDimensions(servicesRef).height;\r\n    const components = getServiceText(handleChoices, servicesRef);\r\n    const [isServicesHidden, hideServices] = useState(false);\r\n    useEffect(() => hideServices(true), []);\r\n\r\n    return (\r\n        <div style={{\r\n            overflow: \"hidden\"\r\n        }}>\r\n            <ServiceButton onClick={() => {\r\n                hideServices(!isServicesHidden);\r\n                console.log(heightServices);\r\n            }} ref={buttonRef}/>\r\n            <div style={{\r\n                position: \"absolute\",\r\n                zIndex: 1,\r\n            }}>\r\n                <div style={{\r\n                    backgroundColor: \"white\",\r\n                    width: widthButton,\r\n                    borderRadius: \"10px\",\r\n                    overflowX: \"hidden\",\r\n                    overflowY:\"scroll\",\r\n                    height: getHeight(heightServices, handleChoices.providePriceListLength()),\r\n                    border: \"1px solid #EAE9F2\",\r\n                }} hidden={isServicesHidden}>\r\n                    <div ref={servicesRef}>\r\n                        {components}\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default ServicePhone;"]},"metadata":{},"sourceType":"module"}